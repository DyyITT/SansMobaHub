local Players = game:GetService("Players")
local player = Players.LocalPlayer
local HttpService = game:GetService("HttpService")
local StarterGui = game:GetService("StarterGui")
local TweenService = game:GetService("TweenService")

local keyURL = "https://pastebin.com/raw/yH0MYCXP"
local hwidWhitelistURL = "https://pastebin.com/raw/k7jy7Z1w"
local checkpointVersion = "v2"
local checkpointFile = "sansmoba_key_checkpoint_" .. checkpointVersion .. ".txt"
local hwid = tostring(player.UserId)
local favoriteScriptsFile = "sansmoba_favorites_" .. hwid .. ".txt" -- File untuk menyimpan script favorit

print("Detected HWID:", hwid)

-- Fungsi untuk mengelola favorit
local favoritedScripts = {}

-- Fungsi untuk memuat favorit dari file
local function loadFavorites()
    if isfile and isfile(favoriteScriptsFile) then
        local success, result = pcall(function()
            local content = readfile(favoriteScriptsFile)
            return HttpService:JSONDecode(content)
        end)
        
        if success and result then
            return result
        end
    end
    
    return {}
end

-- Fungsi untuk menyimpan favorit ke file
local function saveFavorites()
    if writefile then
        local success, errorMessage = pcall(function()
            local content = HttpService:JSONEncode(favoritedScripts)
            writefile(favoriteScriptsFile, content)
        end)
        
        if not success then
            warn("Gagal menyimpan favorit:", errorMessage)
        end
    end
end

-- Muat favorit dari file
favoritedScripts = loadFavorites()

-- Fungsi fade in/out
local function fadeIn(obj, duration)
    local props = {}
    if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
        props.TextTransparency = 0
    end
    if obj:IsA("GuiObject") then
        props.BackgroundTransparency = 0
    end
    local tween = TweenService:Create(obj, TweenInfo.new(duration), props)
    tween:Play()
end

local function fadeOut(obj, duration)
    local props = {}
    if obj:IsA("TextLabel") or obj:IsA("TextButton") or obj:IsA("TextBox") then
        props.TextTransparency = 1
    end
    if obj:IsA("GuiObject") then
        props.BackgroundTransparency = 1
    end
    local tween = TweenService:Create(obj, TweenInfo.new(duration), props)
    tween:Play()
end

local function recursiveFade(obj, fadeFunc, duration)
    fadeFunc(obj, duration)
    for _, child in ipairs(obj:GetChildren()) do
        recursiveFade(child, fadeFunc, duration)
    end
end

-- Ambil HWID whitelist
local function parseWhitelist(data)
    local parsed = {}
    for line in string.gmatch(data, "[^\r\n]+") do
        local userId, expireDate = string.match(line, "^(%d+)|([%d%-]+)$")
        if userId and expireDate then
            parsed[userId] = expireDate
        end
    end
    return parsed
end

local allowedHWIDs = {}
local hwidSuccess, hwidList = pcall(function()
    return game:HttpGet(hwidWhitelistURL)
end)

if hwidSuccess then
    allowedHWIDs = parseWhitelist(hwidList)
else
    player:Kick("Gagal ambil whitelist HWID!")
    return
end

local function isHWIDAllowedWithExpiry(hwidToCheck)
    local expiry = allowedHWIDs[hwidToCheck]
    if expiry then
        local today = os.date("!*t") -- UTC time
        local year, month, day = string.match(expiry, "(%d+)%-(%d+)%-(%d+)")
        if year and month and day then
            local expireTime = os.time({year = tonumber(year), month = tonumber(month), day = tonumber(day)})
            return os.time(today) <= expireTime
        end
    end
    return false
end

if not isHWIDAllowedWithExpiry(hwid) then
    player:Kick("Akses Premium sudah Habis atau belum terdaftar. Hubungi SansMoba untuk perpanjang akses premium.")
    return
end

-- Fungsi loading bar
local function showLoadingBar(callback)
    local loadingGui = Instance.new("ScreenGui")
    loadingGui.Name = "LoadingScreen"
    if syn and syn.protect_gui then
        syn.protect_gui(loadingGui)
    end
    loadingGui.Parent = game:GetService("CoreGui")

    local loadingFrame = Instance.new("Frame", loadingGui)  
    loadingFrame.Size = UDim2.new(0, 300, 0, 60)  
    loadingFrame.Position = UDim2.new(0.5, -150, 0.5, -30)  
    loadingFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20)  
    loadingFrame.BackgroundTransparency = 1  

    local loadingText = Instance.new("TextLabel", loadingFrame)  
    loadingText.Size = UDim2.new(1, 0, 0, 30)  
    loadingText.Text = "Loading..."  
    loadingText.TextColor3 = Color3.fromRGB(255, 255, 255)  
    loadingText.BackgroundTransparency = 1  
    loadingText.Font = Enum.Font.GothamBold  
    loadingText.TextSize = 14  

    local progressBarBg = Instance.new("Frame", loadingFrame)  
    progressBarBg.Size = UDim2.new(1, -20, 0, 15)  
    progressBarBg.Position = UDim2.new(0, 10, 0, 35)  
    progressBarBg.BackgroundColor3 = Color3.fromRGB(50, 50, 50)  
    progressBarBg.BackgroundTransparency = 1  

    local progressBar = Instance.new("Frame", progressBarBg)  
    progressBar.Size = UDim2.new(0, 0, 1, 0)  
    progressBar.BackgroundColor3 = Color3.fromRGB(0, 170, 255)  
    progressBar.BackgroundTransparency = 1  

    -- Tambahkan UICorner
    local corner1 = Instance.new("UICorner", loadingFrame)
    corner1.CornerRadius = UDim.new(0, 8)
    
    local corner2 = Instance.new("UICorner", progressBarBg)
    corner2.CornerRadius = UDim.new(0, 4)
    
    local corner3 = Instance.new("UICorner", progressBar)
    corner3.CornerRadius = UDim.new(0, 4)

    recursiveFade(loadingGui, fadeIn, 0.5)  

    for i = 1, 100 do  
        progressBar:TweenSize(UDim2.new(i / 100, 0, 1, 0), "Out", "Quad", 0.03, true)  
        wait(0.03)  
    end  

    wait(0.3)  
    recursiveFade(loadingGui, fadeOut, 0.5)  
    wait(0.5)  
    loadingGui:Destroy()  

    if callback then callback() end
end

-- Fungsi tampilkan executor
local function showExecutor()
    StarterGui:SetCore("SendNotification", {
        Title = "Script Premium",
        Text = "Selamat Mencoba Script Premium SansMoba!!!",
        Duration = 8
    })
    
    -- Auto Bubble Chat palsu
    local Players = game:GetService("Players")
    local player = Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()

    local message = "Owner Script : AL\nChannel YouTube : SansMoba\nDon't Forget Like And Subscribe!!!\nEnjoy This Scriptâœ…" -- bisa diganti
    local ChatService = game:GetService("Chat")

    ChatService:Chat(character.Head, message, Enum.ChatColor.Blue)

    -- Hapus GUI yang sudah ada jika ada
    if game:GetService("CoreGui"):FindFirstChild("UniversalExecutor") then
        game:GetService("CoreGui"):FindFirstChild("UniversalExecutor"):Destroy()
    end

    local gui = Instance.new("ScreenGui")
    gui.Name = "UniversalExecutor"
    if syn and syn.protect_gui then
        syn.protect_gui(gui)
    end
    gui.Parent = game:GetService("CoreGui")
    gui.ResetOnSpawn = false

    -- Sound Setup
    local clickSound = Instance.new("Sound", gui)
    clickSound.SoundId = "rbxassetid://5419098676"
    clickSound.Volume = 0.5

    -- Main Frame
    local main = Instance.new("Frame", gui)
    main.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    main.Position = UDim2.new(0.3, 0, 0.2, 0)
    main.Size = UDim2.new(0, 0, 0, 0)
    main.Active = true
    main.Draggable = true
    
    -- UICorner
    local mainCorner = Instance.new("UICorner", main)
    mainCorner.CornerRadius = UDim.new(0, 8)

    -- Animate Main Frame in
    TweenService:Create(main, TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
        Size = UDim2.new(0, 400, 0, 350)
    }):Play()

    -- Title Bar
    local titleBar = Instance.new("Frame", main)
    titleBar.Size = UDim2.new(1, 0, 0, 35)
    titleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    titleBar.BorderSizePixel = 0
    
    -- Title Bar UICorner
    local titleCorner = Instance.new("UICorner", titleBar)
    titleCorner.CornerRadius = UDim.new(0, 8)
    
    -- Fix corner (only top)
    local bottomFrame = Instance.new("Frame", titleBar)
    bottomFrame.Size = UDim2.new(1, 0, 0.5, 0)
    bottomFrame.Position = UDim2.new(0, 0, 0.5, 0)
    bottomFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    bottomFrame.BorderSizePixel = 0

    -- Title
    local title = Instance.new("TextLabel", titleBar)
    title.Text = "Universal Script - By SansMoba"
    title.Font = Enum.Font.GothamBold
    title.TextColor3 = Color3.fromRGB(255, 255, 255)
    title.Size = UDim2.new(1, -60, 1, 0)
    title.Position = UDim2.new(0, 10, 0, 0)
    title.BackgroundTransparency = 1
    title.TextSize = 16
    title.TextXAlignment = Enum.TextXAlignment.Left

    -- Close Button
    local close = Instance.new("TextButton", titleBar)
    close.Position = UDim2.new(1, -30, 0, 5)
    close.Size = UDim2.new(0, 25, 0, 25)
    close.Text = "X"
    close.TextColor3 = Color3.fromRGB(255, 255, 255)
    close.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
    close.Font = Enum.Font.GothamBold
    close.TextSize = 14
    close.BorderSizePixel = 0
    
    -- UICorner untuk tombol close
    local closeCorner = Instance.new("UICorner", close)
    closeCorner.CornerRadius = UDim.new(0, 4)

    -- Minimize Button
    local minimize = Instance.new("TextButton", titleBar)
    minimize.Position = UDim2.new(1, -60, 0, 5)
    minimize.Size = UDim2.new(0, 25, 0, 25)
    minimize.Text = "-"
    minimize.TextColor3 = Color3.fromRGB(255, 255, 255)
    minimize.BackgroundColor3 = Color3.fromRGB(60, 60, 170)
    minimize.Font = Enum.Font.GothamBold
    minimize.TextSize = 16
    minimize.BorderSizePixel = 0

    -- UICorner untuk tombol minimize
    local minCorner = Instance.new("UICorner", minimize)
    minCorner.CornerRadius = UDim.new(0, 4)
    
    -- Status Bar
    local statusBar = Instance.new("Frame", main)
    statusBar.Size = UDim2.new(1, -20, 0, 20)
    statusBar.Position = UDim2.new(0, 10, 1, -25)
    statusBar.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    statusBar.BorderSizePixel = 0
    
    -- UICorner untuk status bar
    local statusCorner = Instance.new("UICorner", statusBar)
    statusCorner.CornerRadius = UDim.new(0, 4)
    
    -- Teks status
    local statusText = Instance.new("TextLabel", statusBar)
    statusText.Size = UDim2.new(1, 0, 1, 0)
    statusText.Text = "SansMoba Script Premium"
    statusText.TextColor3 = Color3.fromRGB(200, 200, 200)
    statusText.BackgroundTransparency = 1
    statusText.Font = Enum.Font.Gotham
    statusText.TextSize = 12
    
    -- Tab Buttons Container
    local tabsContainer = Instance.new("Frame", main)
    tabsContainer.Size = UDim2.new(1, -20, 0, 25)
    tabsContainer.Position = UDim2.new(0, 10, 0, 40)
    tabsContainer.BackgroundTransparency = 1
    
    -- Create the tab buttons
    local allScriptsTab = Instance.new("TextButton", tabsContainer)
    allScriptsTab.Size = UDim2.new(0.5, -2, 1, 0)
    allScriptsTab.Position = UDim2.new(0, 0, 0, 0)
    allScriptsTab.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    allScriptsTab.Text = "All Scripts"
    allScriptsTab.TextColor3 = Color3.fromRGB(255, 255, 255)
    allScriptsTab.Font = Enum.Font.GothamBold
    allScriptsTab.TextSize = 14
    allScriptsTab.BorderSizePixel = 0
    
    local allTabCorner = Instance.new("UICorner", allScriptsTab)
    allTabCorner.CornerRadius = UDim.new(0, 4)
    
    local favoritesTab = Instance.new("TextButton", tabsContainer)
    favoritesTab.Size = UDim2.new(0.5, -2, 1, 0)
    favoritesTab.Position = UDim2.new(0.5, 2, 0, 0)
    favoritesTab.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    favoritesTab.Text = "Favorites"
    favoritesTab.TextColor3 = Color3.fromRGB(200, 200, 200)
    favoritesTab.Font = Enum.Font.GothamBold
    favoritesTab.TextSize = 14
    favoritesTab.BorderSizePixel = 0
    
    local favTabCorner = Instance.new("UICorner", favoritesTab)
    favTabCorner.CornerRadius = UDim.new(0, 4)
    
    -- [FITUR BARU] Tambahkan kategori untuk script
    -- Definisikan kategori dan variabel kontrol
    local selectedCategory = "All" -- Default: Semua script
    
    -- Daftar kategori yang tersedia
    local scriptCategories = {
        {name = "All", color = Color3.fromRGB(60, 120, 210)},
        {name = "Universal", color = Color3.fromRGB(100, 180, 100)},
        {name = "Games", color = Color3.fromRGB(200, 100, 100)},
        {name = "Visual", color = Color3.fromRGB(180, 120, 200)},
        {name = "SansMoba", color = Color3.fromRGB(80, 180, 220)}
    }
    
    -- Mapping kategori untuk script yang sudah ada
    local scriptCategoryMapping = {
        ["Anti Lag"] = "Universal",
        ["John Doe"] = "Universal",
        ["SansMoba Script"] = "Universal",
        ["Troll Script"] = "Universal",
        ["Troll GUI"] = "Universal",
        ["Troll Player"] = "Universal",
        ["Plutonium"] = "Universal",
        ["Alchemy  ðŸ”‘"] = "Universal",
        ["Admin"] = "Universal",
        ["Banned"] = "Universal",
        ["Ghoshthub"] = "Universal",
        ["C00lkid Leaked"] = "Universal",
        ["Dead Rails V1"] = "Games",
        ["Dead Rails V2"] = "Games",
        ["Dead Rails V3"] = "Games",
        ["Dead Rails V4"] = "Games",
        ["Fisch V1"] = "Games",
        ["Fisch V2"] = "Games",
        ["Fisch V3"] = "Games",
        ["Blade Ball V1"] = "Games",
        ["Blade Ball V2"] = "Games",
        ["Blade Ball V3"] = "Games",
        ["Arise Crossover V1"] = "Games",
        ["Arise Crossover V2"] = "Games",
        ["Arise Crossover V3"] = "Games",
        ["Natural Disaster V1"] = "Games",
        ["Natural Disaster V2"] = "Games",
        ["BF(BloxFruit) V1"] = "Games",
        ["BF(BloxFruit) V2"] = "Games",
        ["Brookhaven V1"] = "Games",
        ["Brookhaven V2"] = "Games",
        ["Muscle Legends  ðŸ”‘"] = "Games",
        ["CDID"] = "Games",
        ["Tower Defense RNG"] = "Games",
        ["Arsenal"] = "Games",
        ["Jailbreak"] = "Games",
        ["Murder Mystery 2"] = "Games",
        ["Survive The Killer"] = "Games",
        ["Ninja Legends"] = "Games",
        ["Blue Lock Rivals"] = "Games",
        ["Legends Of Speed"] = "Games",
        ["Hide And Seek"] = "Games",
        ["GunFight"] = "Games",
        ["SouthBronx  ðŸ”‘"] = "Games",
        ["BlockSpin"] = "Games",
        ["Restaurant Tycoon 2"] = "Games",
        ["Lumber Tycoon 2"] = "Games",
        ["Taxi Boss"] = "Games",
        ["Retail Tycoon 2"] = "Games",
        ["A Dusty Trip"] = "Games",
        ["Volleyball Legends  ðŸ”‘"] = "Games",
        ["Drill Digging Simulator"] = "Games",
        ["Aimbot FFA"] = "Games",
        ["Grow A Garden"] = "Games",
        ["Cabin Indo"] = "Games",
        ["Indo Voice"] = "Games",
        ["War machines"] = "Games",
        ["Build a Boat For Treasure"] = "Games",
        ["Forsaken  ðŸ”‘"] = "Games",
        ["Hatch a Duck"] = "Games",
        ["Climb and Jump"] = "Games",
        ["Untitled Drill"] = "Games",
        ["Noob Defense"] = "Games",
        ["Anime Rangers X"] = "Games",
        ["Attack On Titan"] = "Games",
        ["Beaks"] = "Games",
        ["Brainrot Evolution"] = "Games",
        ["Ultimate Mining Tycoon"] = "Games",
        ["Prison Pump"] = "Games",
        ["Super Villain Tycoon"] = "Games",
        ["Bubble Gum Simulator"] = "Games",
        ["Shark Bite2"] = "Games",
        ["Hunters"] = "Games",
        ["Dead Ocean"] = "Games",
        ["Dig The Backyard"] = "Games",
        ["Minds Fall Survival"] = "Games",
        ["Train to Fight"] = "Games",
        ["Rock Fruit"] = "Games",
        ["Weapon Fighting"] = "Games",
        ["Sprunbie Rail"] = "Games",
        ["Sonic Speed"] = "Games",
        ["Speed Maze"] = "Games",
        ["Prison Life"] = "Games",
        ["Grow a Tree"] = "Games",
        ["Yard Sale"] = "Games",
        ["Breeding Ranch"] = "Games",
        ["PLS DONATE"] = "Games",
        ["Trollge Multiverse"] = "Games"
    }
    
    -- Container untuk kategori
    local categoriesContainer = Instance.new("Frame", main)
    categoriesContainer.Size = UDim2.new(1, -20, 0, 30)
    categoriesContainer.Position = UDim2.new(0, 10, 0, 70)
    categoriesContainer.BackgroundTransparency = 1
    
    -- ScrollingFrame untuk kategori
    local categoriesScroll = Instance.new("ScrollingFrame", categoriesContainer)
    categoriesScroll.Size = UDim2.new(1, 0, 1, 0)
    categoriesScroll.CanvasSize = UDim2.new(0, #scriptCategories * 75, 0, 0) -- Menyesuaikan ukuran berdasarkan jumlah kategori
    categoriesScroll.BackgroundTransparency = 1
    categoriesScroll.BorderSizePixel = 0
    categoriesScroll.ScrollBarThickness = 2
    categoriesScroll.ScrollingDirection = Enum.ScrollingDirection.X
    categoriesScroll.HorizontalScrollBarInset = Enum.ScrollBarInset.ScrollBar
    
    -- Layout untuk tombol kategori
    local categoryLayout = Instance.new("UIListLayout", categoriesScroll)
    categoryLayout.FillDirection = Enum.FillDirection.Horizontal
    categoryLayout.SortOrder = Enum.SortOrder.LayoutOrder
    categoryLayout.Padding = UDim.new(0, 5)
    
    -- Buat tombol untuk setiap kategori
    local categoryButtons = {}
    for i, category in ipairs(scriptCategories) do
        local categoryBtn = Instance.new("TextButton", categoriesScroll)
        categoryBtn.Size = UDim2.new(0, 70, 1, 0)
        categoryBtn.BackgroundColor3 = (category.name == selectedCategory) and category.color or Color3.fromRGB(40, 40, 50)
        categoryBtn.Text = category.name
        categoryBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
        categoryBtn.Font = Enum.Font.GothamBold
        categoryBtn.TextSize = 12
        categoryBtn.BorderSizePixel = 0
        categoryBtn.LayoutOrder = i
        
        -- UICorner untuk tombol kategori
        local catBtnCorner = Instance.new("UICorner", categoryBtn)
        catBtnCorner.CornerRadius = UDim.new(0, 4)
        
        categoryButtons[category.name] = categoryBtn
        
        -- Event saat tombol kategori diklik
        categoryBtn.MouseButton1Click:Connect(function()
            clickSound:Play()
            selectedCategory = category.name
            
            -- Perbarui visual tombol
            for _, catInfo in ipairs(scriptCategories) do
                local btn = categoryButtons[catInfo.name]
                if btn then
                    btn.BackgroundColor3 = (catInfo.name == selectedCategory) and catInfo.color or Color3.fromRGB(40, 40, 50)
                end
            end
            
            -- Terapkan filter kategori ke kedua tab
            applyScriptFilters()
        end)
    end
    
    -- Search Container
    local searchContainer = Instance.new("Frame", main)
    searchContainer.Size = UDim2.new(1, -20, 0, 30)
    searchContainer.Position = UDim2.new(0, 10, 0, 105)
    searchContainer.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
    searchContainer.BorderSizePixel = 0
    
    -- UICorner for search
    local searchCorner = Instance.new("UICorner", searchContainer)
    searchCorner.CornerRadius = UDim.new(0, 6)
    
    -- Search Icon (using text as icon)
    local searchIcon = Instance.new("TextLabel", searchContainer)
    searchIcon.Size = UDim2.new(0, 30, 0, 30)
    searchIcon.Text = "ðŸ”"
    searchIcon.TextColor3 = Color3.fromRGB(200, 200, 200)
    searchIcon.BackgroundTransparency = 1
    searchIcon.Font = Enum.Font.GothamBold
    searchIcon.TextSize = 14
    
    -- Search Box
    local searchBox = Instance.new("TextBox", searchContainer)
    searchBox.Size = UDim2.new(1, -35, 1, 0)
    searchBox.Position = UDim2.new(0, 30, 0, 0)
    searchBox.BackgroundTransparency = 1
    searchBox.Text = ""
    searchBox.PlaceholderText = "Cari script..."
    searchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
    searchBox.Font = Enum.Font.Gotham
    searchBox.TextSize = 14
    searchBox.TextXAlignment = Enum.TextXAlignment.Left
    searchBox.ClearTextOnFocus = false

    -- Scrolling Frame untuk Semua Script
    local allScriptsScroll = Instance.new("ScrollingFrame", main)
    allScriptsScroll.Name = "AllScriptsScroll"
    allScriptsScroll.Position = UDim2.new(0, 10, 0, 140) -- Adjusted for category bar
    allScriptsScroll.Size = UDim2.new(1, -20, 1, -170) -- Adjusted for statusBar and category bar
    allScriptsScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
    allScriptsScroll.ScrollBarThickness = 5
    allScriptsScroll.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    allScriptsScroll.BorderSizePixel = 0
    allScriptsScroll.Visible = true
    
    -- UICorner for scrolling frame
    local scrollCorner = Instance.new("UICorner", allScriptsScroll)
    scrollCorner.CornerRadius = UDim.new(0, 6)

    local layout = Instance.new("UIListLayout", allScriptsScroll)
    layout.SortOrder = Enum.SortOrder.LayoutOrder
    layout.Padding = UDim.new(0, 5)
    
    -- Padding
    local padding = Instance.new("UIPadding", allScriptsScroll)
    padding.PaddingTop = UDim.new(0, 5)
    padding.PaddingBottom = UDim.new(0, 5)
    padding.PaddingLeft = UDim.new(0, 5)
    padding.PaddingRight = UDim.new(0, 5)
    
    -- Scrolling Frame untuk Favorites
    local favoritesScroll = Instance.new("ScrollingFrame", main)
    favoritesScroll.Name = "FavoritesScroll"
    favoritesScroll.Position = UDim2.new(0, 10, 0, 140) -- Adjusted for category bar
    favoritesScroll.Size = UDim2.new(1, -20, 1, -170) -- Adjusted for statusBar and category bar
    favoritesScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
    favoritesScroll.ScrollBarThickness = 5
    favoritesScroll.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    favoritesScroll.BorderSizePixel = 0
    favoritesScroll.Visible = false
    
    -- UICorner for favorites scrolling frame
    local favScrollCorner = Instance.new("UICorner", favoritesScroll)
    favScrollCorner.CornerRadius = UDim.new(0, 6)

    local favLayout = Instance.new("UIListLayout", favoritesScroll)
    favLayout.SortOrder = Enum.SortOrder.LayoutOrder
    favLayout.Padding = UDim.new(0, 5)
    
    -- Padding for favorites
    local favPadding = Instance.new("UIPadding", favoritesScroll)
    favPadding.PaddingTop = UDim.new(0, 5)
    favPadding.PaddingBottom = UDim.new(0, 5)
    favPadding.PaddingLeft = UDim.new(0, 5)
    favPadding.PaddingRight = UDim.new(0, 5)

    -- Connect close button event
    close.MouseButton1Click:Connect(function()
        clickSound:Play()
        TweenService:Create(main, TweenInfo.new(0.3), {Size = UDim2.new(0, 0, 0, 0)}):Play()
        wait(0.3)
        gui:Destroy()
    end)

    -- Connect tab buttons
    allScriptsTab.MouseButton1Click:Connect(function()
        clickSound:Play()
        allScriptsTab.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
        allScriptsTab.TextColor3 = Color3.fromRGB(255, 255, 255)
        favoritesTab.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
        favoritesTab.TextColor3 = Color3.fromRGB(200, 200, 200)
        
        allScriptsScroll.Visible = true
        favoritesScroll.Visible = false
    end)
    
    favoritesTab.MouseButton1Click:Connect(function()
        clickSound:Play()
        favoritesTab.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
        favoritesTab.TextColor3 = Color3.fromRGB(255, 255, 255)
        allScriptsTab.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
        allScriptsTab.TextColor3 = Color3.fromRGB(200, 200, 200)
        
        allScriptsScroll.Visible = false
        favoritesScroll.Visible = true
    end)

    -- Connect minimize button event
    local minimized = false
    minimize.MouseButton1Click:Connect(function()
        clickSound:Play()
        minimized = not minimized
        
        if minimized then
            -- Hanya menyimpan ukuran scroll dan konten lain
            allScriptsScroll.Visible = false
            favoritesScroll.Visible = false
            searchContainer.Visible = false
            tabsContainer.Visible = false
            categoriesContainer.Visible = false
            statusBar.Visible = false
            TweenService:Create(main, TweenInfo.new(0.3), {Size = UDim2.new(0, 400, 0, 35)}):Play()
        else
            -- Kembalikan ukuran asli dan tampilkan konten
            TweenService:Create(main, TweenInfo.new(0.3), {Size = UDim2.new(0, 400, 0, 350)}):Play()
            -- Tunggu animasi selesai sebelum mengembalikan visibilitas
            wait(0.3)
            tabsContainer.Visible = true
            searchContainer.Visible = true
            categoriesContainer.Visible = true
            statusBar.Visible = true
            if allScriptsTab.BackgroundColor3 == Color3.fromRGB(45, 45, 55) then
                allScriptsScroll.Visible = true
            else
                favoritesScroll.Visible = true
            end
        end
    end)

    -- Fungsi untuk memeriksa apakah script ada di favorit
    local function isScriptFavorited(scriptName)
        for _, favorite in ipairs(favoritedScripts) do
            if favorite.name == scriptName then
                return true
            end
        end
        return false
    end
    
    -- Fungsi untuk menambah/menghapus script dari favorit
    local function toggleFavorite(scriptInfo, favoriteButton)
        local scriptName = scriptInfo.name
        
        if isScriptFavorited(scriptName) then
            -- Hapus dari favorit
            for i, favorite in ipairs(favoritedScripts) do
                if favorite.name == scriptName then
                    table.remove(favoritedScripts, i)
                    break
                end
            end
            favoriteButton.Text = "â˜†"
            favoriteButton.TextColor3 = Color3.fromRGB(255, 255, 255)
            
            -- Hapus dari tampilan favorit jika sedang ditampilkan
            if favoritesScroll.Visible then
                for _, child in ipairs(favoritesScroll:GetChildren()) do
                    if child:IsA("Frame") and child:FindFirstChild("Title") and child.Title.Text == scriptName then
                        child:Destroy()
                    end
                end
                -- Update canvas size
                local contentHeight = favLayout.AbsoluteContentSize.Y
                favoritesScroll.CanvasSize = UDim2.new(0, 0, 0, contentHeight + 10)
            end
        else
            -- Tambahkan ke favorit
            table.insert(favoritedScripts, scriptInfo)
            favoriteButton.Text = "â˜…"
            favoriteButton.TextColor3 = Color3.fromRGB(255, 255, 0)
            
            -- Tambahkan ke tampilan favorit jika belum ada
            if favoritesScroll.Visible then
                local scriptButton = createScriptButton(scriptInfo.name, scriptInfo.desc, scriptInfo.script, favoritesScroll)
                -- Update canvas size
                local contentHeight = favLayout.AbsoluteContentSize.Y
                favoritesScroll.CanvasSize = UDim2.new(0, 0, 0, contentHeight + 10)
            end
        end
        
        -- Simpan favorit ke file
        saveFavorites()
    end

    -- Script button creation function (diubah untuk mendukung kategori)
    local function createScriptButton(name, description, script, parent)
        local scrollFrame = parent or allScriptsScroll
        local category = scriptCategoryMapping[name] or "Universal" -- Default ke Universal jika tidak ada kategori
        
        local btn = Instance.new("Frame", scrollFrame)
        btn.Size = UDim2.new(1, 0, 0, 50)
        btn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
        btn.BorderSizePixel = 0
        
        -- Save name and category for reference
        btn.Name = "ScriptBtn_" .. name
        btn:SetAttribute("Category", category)
        
        -- UICorner for button
        local btnCorner = Instance.new("UICorner", btn)
        btnCorner.CornerRadius = UDim.new(0, 6)
        
        -- Category indicator
        local categoryIndicator = Instance.new("Frame", btn)
        categoryIndicator.Size = UDim2.new(0, 4, 1, -10)
        categoryIndicator.Position = UDim2.new(0, 3, 0, 5)
        categoryIndicator.BorderSizePixel = 0
        
        -- Find the category color
        local categoryColor = Color3.fromRGB(100, 100, 100) -- Default
        for _, catInfo in ipairs(scriptCategories) do
            if catInfo.name == category then
                categoryColor = catInfo.color
                break
            end
        end
        
        categoryIndicator.BackgroundColor3 = categoryColor
        
        -- UICorner for category indicator
        local catIndCorner = Instance.new("UICorner", categoryIndicator)
        catIndCorner.CornerRadius = UDim.new(0, 2)
        
        -- Title
        local btnTitle = Instance.new("TextLabel", btn)
        btnTitle.Name = "Title"
        btnTitle.Size = UDim2.new(1, -85, 0, 20)
        btnTitle.Position = UDim2.new(0, 10, 0, 5)
        btnTitle.Text = name
        btnTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
        btnTitle.BackgroundTransparency = 1
        btnTitle.Font = Enum.Font.GothamBold
        btnTitle.TextSize = 14
        btnTitle.TextXAlignment = Enum.TextXAlignment.Left
        btnTitle.TextTruncate = Enum.TextTruncate.AtEnd
        
        -- Description
        local btnDesc = Instance.new("TextLabel", btn)
        btnDesc.Size = UDim2.new(1, -85, 0, 20)
        btnDesc.Position = UDim2.new(0, 10, 0, 25)
        btnDesc.Text = description
        btnDesc.TextColor3 = Color3.fromRGB(180, 180, 180)
        btnDesc.BackgroundTransparency = 1
        btnDesc.Font = Enum.Font.Gotham
        btnDesc.TextSize = 12
        btnDesc.TextXAlignment = Enum.TextXAlignment.Left
        
        -- Kategori label
        local categoryLabel = Instance.new("TextLabel", btn)
        categoryLabel.Size = UDim2.new(0, 0, 0, 15) -- Auto size
        categoryLabel.Position = UDim2.new(1, -80, 0, 5)
        categoryLabel.BackgroundColor3 = categoryColor
        categoryLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
        categoryLabel.Font = Enum.Font.GothamBold
        categoryLabel.TextSize = 9
        categoryLabel.Text = " " .. category .. " "
        categoryLabel.AutomaticSize = Enum.AutomaticSize.X
        
        -- UICorner untuk label kategori
        local catLabelCorner = Instance.new("UICorner", categoryLabel)
        catLabelCorner.CornerRadius = UDim.new(0, 3)
        
        -- Favorite button
        local favoriteBtn = Instance.new("TextButton", btn)
        favoriteBtn.Size = UDim2.new(0, 25, 0, 25)
        favoriteBtn.Position = UDim2.new(1, -65, 0, 22.5)
        favoriteBtn.Text = isScriptFavorited(name) and "â˜…" or "â˜†"
        favoriteBtn.TextColor3 = isScriptFavorited(name) and Color3.fromRGB(255, 255, 0) or Color3.fromRGB(255, 255, 255)
        favoriteBtn.TextSize = 18
        favoriteBtn.Font = Enum.Font.GothamBold
        favoriteBtn.BackgroundTransparency = 1
        
        -- Execute button
        local execute = Instance.new("TextButton", btn)
        execute.Size = UDim2.new(0, 35, 0, 25)
        execute.Position = UDim2.new(1, -35, 0, 22.5)
        execute.Text = "â–¶"
        execute.TextColor3 = Color3.fromRGB(255, 255, 255)
        execute.BackgroundColor3 = Color3.fromRGB(60, 120, 210)
        execute.Font = Enum.Font.GothamBold
        execute.TextSize = 18
        execute.BorderSizePixel = 0
        
        -- UICorner for execute button
        local exeCorner = Instance.new("UICorner", execute)
        exeCorner.CornerRadius = UDim.new(0, 4)
        
        -- Data script
        local scriptInfo = {
            name = name,
            desc = description,
            script = script,
            category = category
        }
        
        -- Favorite button click event
        favoriteBtn.MouseButton1Click:Connect(function()
            clickSound:Play()
            toggleFavorite(scriptInfo, favoriteBtn)
        end)
        
        -- Execute button click event
        execute.MouseButton1Click:Connect(function()
            clickSound:Play()
            statusText.Text = "Executing: " .. name
            
            -- Execute the script
            local success, error = pcall(function()
                -- Check if script is a function or string
                if type(script) == "function" then
                    script()
                else
                    loadstring(game:HttpGet(script, true))()
                end
            end)
            
            -- Auto Bubble Chat palsu
            local Players = game:GetService("Players")
            local player = Players.LocalPlayer
            local character = player.Character or player.CharacterAdded:Wait()

            local message = name .. " : Successfully Executed âœ…" -- bisa diganti
            local ChatService = game:GetService("Chat")

            ChatService:Chat(character.Head, message, Enum.ChatColor.Blue)

            if success then
                statusText.Text = "Successfully executed: " .. name
            else
                statusText.Text = "Error: " .. tostring(error)
                warn("Error executing script:", error)
            end
        end)
        
        return btn
    end

    -- Fungsi untuk memperbarui ukuran scrolling frame
    local function updateCanvasSize(scrollFrame, layoutObject)
        local contentHeight = layoutObject.AbsoluteContentSize.Y
        scrollFrame.CanvasSize = UDim2.new(0, 0, 0, contentHeight + 10)
    end
    
    -- Fungsi untuk menerapkan filter berdasarkan kategori dan pencarian
    function applyScriptFilters()
        local searchText = searchBox.Text:lower()
        
        -- Fungsi untuk memfilter button berdasarkan kategori dan teks pencarian
        local function filterButton(button)
            local titleElem = button:FindFirstChild("Title")
            local category = button:GetAttribute("Category")
            
            if not titleElem or not category then
                return false
            end
            
            local title = titleElem.Text:lower()
            local matchesSearch = searchText == "" or title:find(searchText)
            local matchesCategory = selectedCategory == "All" or category == selectedCategory
            
            return matchesSearch and matchesCategory
        end
        
        -- Terapkan filter ke All Scripts tab
        for _, child in ipairs(allScriptsScroll:GetChildren()) do
            if child:IsA("Frame") then
                child.Visible = filterButton(child)
            end
        end
        updateCanvasSize(allScriptsScroll, layout)
        
        -- Terapkan filter ke Favorites tab
        for _, child in ipairs(favoritesScroll:GetChildren()) do
            if child:IsA("Frame") then
                child.Visible = filterButton(child)
            end
        end
        updateCanvasSize(favoritesScroll, favLayout)
    end
    
    -- Connect events to update canvas size
    layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        updateCanvasSize(allScriptsScroll, layout)
    end)
    
    favLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        updateCanvasSize(favoritesScroll, favLayout)
    end)
    
    -- Search functionality
    searchBox:GetPropertyChangedSignal("Text"):Connect(function()
        applyScriptFilters()
    end)
    
    -- Add some sample scripts with categories
    local scripts = {
        {name = "Anti Lag", desc = "Optimize Lag (Auto On)", script = 'https://pastebin.com/raw/x7UnGxJw'},
        {name = "John Doe", desc = "John Doe script Sans Moba version(Auto On)", script = 'https://pastebin.com/raw/taUmZJQj'},
        {name = "SansMoba Script", desc = "sansmoba basic script", script = 'https://pastebin.com/raw/Q5HKFJqD'},
        {name = "Troll Script", desc = "you can troll with this script,work all map", script = 'https://pastebin.com/raw/hWJE07Si'},
        {name = "Troll GUI", desc = "you can troll with this script,Jerk,suck,bang", script = 'https://pastebin.com/raw/hkyuHQ7Y'},
        {name = "Troll Player", desc = "you can control other players", script = 'https://raw.githubusercontent.com/GhostPlayer352/Test4/refs/heads/main/Player%20Gui'},
        {name = "Plutonium", desc = "Contains Many Games", script = 'https://raw.githubusercontent.com/PawsThePaw/Plutonium.AA/main/Plutonium.Loader.lua'},
        {name = "Alchemy  ðŸ”‘", desc = "Script OP Many Games (key)", script = 'https://scripts.alchemyhub.xyz'},
        {name = "Admin", desc = "Can Run Admin Command", script = 'https://pastebin.com/raw/KG1wEu02'},
        {name = "Banned", desc = "banned by clicking on the character (visual)", script = 'https://pastebin.com/raw/eaM2tAQq'},
        {name = "Ghoshthub", desc = "Script Ghoshub", script = 'https://rawscripts.net/raw/Universal-Script-Ghost-hub-universal-27291'},
        {name = "C00lkid Leaked", desc = "Script Visual", script = 'https://raw.githubusercontent.com/sinret/rbxscript.com-scripts-reuploads-/main/ckid'},
        {name = "Dead Rails V1", desc = "For Dead Rails Game", script = 'https://raw.githubusercontent.com/ArdyBotzz/NatHub/refs/heads/master/NatHub.lua'},
        {name = "Dead Rails V2", desc = "For Dead Rails Game", script = 'https://raw.githubusercontent.com/TwoGunVolley/Eeeee/refs/heads/main/RailsDated.txt'},
        {name = "Dead Rails V3", desc = "For Dead Rails Game", script = 'https://rawscripts.net/raw/Universal-Script-Dead-rails-teleport-everywhere-tesla-lab-fort-castle-train-35609'},
        {name = "Dead Rails V4", desc = "For Dead Rails Game (auto bonds)", script = 'https://raw.githubusercontent.com/ArdyBotzz/NatHub/refs/heads/master/NatHub.lua'},
        {name = "Fisch V1", desc = "For Fisch Game", script = 'https://gist.githubusercontent.com/AverageHub/1980eccce4133d77fb24d166dc296125/raw/2d9c88acc21a302d92aed0e8b6f0dcd287c8b96b/gistfile1.txt'},
        {name = "Fisch V2", desc = "For Fisch Game", script = 'https://raw.githubusercontent.com/AhmadV99/Speed-Hub-X/main/Speed%20Hub%20X.lua'},
        {name = "Fisch V3", desc = "For Fisch Game", script = 'https://raw.githubusercontent.com/thantzy/thanhub/refs/heads/main/thanv1'},
        {name = "Blade Ball V1", desc = "For Blade Ball Game", script = 'https://raw.githubusercontent.com/Fspl0it/Zephyr-/refs/heads/main/Protected_7817091414706884.txt'},
        {name = "Blade Ball V2", desc = "For Blade Ball Game", script = 'https://raw.githubusercontent.com/redopy7/Blade-Ball/refs/heads/main/KalitorBeta.txt'},
        {name = "Blade Ball V3", desc = "For Blade Ball Game Recommended", script = 'https://raw.githubusercontent.com/CodeE4X-dev/Star-X/refs/heads/main/BladeBall-V3.lua'},
        {name = "Arise Crossover V1", desc = "For Arise Crossover Game", script = 'https://raw.githubusercontent.com/SKOIXLL/SKYLOLAND/refs/heads/main/Load.lua'},
        {name = "Arise Crossover V2", desc = "For Arise Crossover Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/refs/heads/main/AriseCrossover'},
        {name = "Arise Crossover V3", desc = "For Arise Crossover Game", script = 'https://raw.githubusercontent.com/6nkmb9852hjcxsw3ypeg/j6kgxdryt5svmpeu42nb87/refs/heads/main/AREC'},
        {name = "Natural Disaster V1", desc = "key:sixhub_key2025lol", script = 'https://raw.githubusercontent.com/ySixxNz/Natural-Desastre/SIX-MENU/SIX-HUB-NATURAL-DESASTRE'},
        {name = "Natural Disaster V2", desc = "For Survival Disaster Game (Ring)", script = 'https://rawscripts.net/raw/Natural-Disaster-Survival-Super-ring-V4-24296'},
        {name = "BF(BloxFruit) V1", desc = "For Blox Fruit Game", script = 'https://raw.githubusercontent.com/RO-HUB-CODEX/RO-HUB/refs/heads/main/bloxfruits.lua'},
        {name = "BF(BloxFruit) V2", desc = "For Blox Fruit Game", script = 'https://raw.githubusercontent.com/newredz/BloxFruits/refs/heads/main/Source.luau'},
        {name = "Brookhaven V1", desc = "For Brookhaven Script Game", script = 'https://raw.githubusercontent.com/TheDarkoneMarcillisePex/Other-Scripts/main/Brook%20Haven%20Gui'},
        {name = "Brookhaven V2", desc = "For Brookhaven Sound Game", script = 'https://rawscripts.net/raw/Brookhaven-RP-Audio-Player-Script-Brookhaven-RP-33531'},
        {name = "Muscle Legends  ðŸ”‘", desc = "For Muscle Legends Game(key)", script = 'https://rawscripts.net/raw/X2-Muscle-Legends-Advanced-Autofarm-33066'},
        {name = "CDID", desc = "For Car Driving Indonesia Game", script = 'https://isnahamzahpastebin.tech/loader/SP'},
        {name = "Tower Defense RNG", desc = "For Tower Defense Game", script = 'https://rawscripts.net/raw/Tower-Defense-RNG-TatsumakiHub-22583'},
        {name = "Arsenal", desc = "For Arsenal Game", script = 'https://raw.githubusercontent.com/tbao143/thaibao/main/TbaoHubArsenal'},
        {name = "Jailbreak", desc = "For Jailbreak Game", script = 'https://raw.githubusercontent.com/BlitzIsKing/UniversalFarm/main/Loader/Regular'},
        {name = "Murder Mystery 2", desc = "For Murder Mystery 2 Game", script = 'https://api.overdrivehub.xyz/v1/auth'},
        {name = "Survive The Killer", desc = "For Survive The Killer Game", script = 'https://raw.githubusercontent.com/Milan08Studio/ChairWare/main/main.lua'},
        {name = "Ninja Legends", desc = "For Ninja Legends Game", script = 'https://raw.githubusercontent.com/TrixAde/Proxima-Hub/main/Main.lua'},
        {name = "Blue Lock Rivals", desc = "For Blue Lock Rivals(new) Game", script = 'https://raw.githubusercontent.com/Lucas-Luaa/Blue-Lock-Rivals/refs/heads/main/EXE.Lua'},
        {name = "Legends Of Speed", desc = "For Legends Of Speed Game", script = 'https://pastebin.com/raw/QfgjLFgB'},
        {name = "Hide And Seek", desc = "For Hide And Seek Game", script = 'https://raw.githubusercontent.com/Hn1-Hub/Hn1_KeysTests/refs/heads/main/Hn1%20Hub%20Loader'},
        {name = "GunFight", desc = "For GunFight Game (Auto Active)", script = 'https://pastebin.com/raw/bHREpZbs'},
        {name = "SouthBronx  ðŸ”‘", desc = "key bonx: KYDJTWHTEJTEKYDJ5EK7RP8Y9TI6EU452QYEI", script = 'https://gist.githubusercontent.com/LongShlongNMyThong/3d9700228dfbec5bbd3c719cb1c4208f/raw/9355a50e6cc2b19be3a7e42b5cfda38504'},
        {name = "BlockSpin", desc = "For BlockSpin Game", script = 'https://rawscripts.net/raw/BlockSpin-OMEGA!!-Auto-Farm-Money-with-ATMs-and-Steak-House-35509'},
        {name = "Restaurant Tycoon 2", desc = "For Restaurant Tycoon 2 Game", script = 'https://raw.githubusercontent.com/iz037/Zeld-Hub/main/Script/Restaurant%20Tycoon%202.lua'},
        {name = "Lumber Tycoon 2", desc = "For Lumber Tycoon 2 Game", script = 'https://raw.githubusercontent.com/DevKron/Kron_Hub/refs/heads/main/version_1.0'},
        {name = "Taxi Boss", desc = "For Taxi Boss Game Cheated Money", script = 'https://raw.githubusercontent.com/iz037/Zeld-Hub/main/Loader.lua'},
        {name = "Retail Tycoon 2", desc = "For Retail Tycoon 2 Game", script = 'https://raw.githubusercontent.com/GarganSploits/Garganscript/main/retailtycoonscript'},
        {name = "A Dusty Trip", desc = "For A Dusty Trip Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/adustytrip'},
        {name = "Volleyball Legends  ðŸ”‘", desc = "For Volleyball Legends Game (key)", script = 'https://raw.githubusercontent.com/OhhMyGehlee/vol/refs/heads/main/ball'},
        {name = "Drill Digging Simulator", desc = "For Drill Digging Simulator Game", script = 'https://rawscripts.net/raw/Drill-Digging-Simulator-DP-HUB-Ultimate-Script-2025-33175'},
        {name = "Aimbot FFA", desc = "For Aimbot FFA  Game", script = 'https://rawscripts.net/raw/UPD-Aimbot-FFA-moma-hub-34151'},
        {name = "Grow A Garden", desc = "For Grow a Garden Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/GrowaGarden'},
        {name = "Cabin Indo", desc = "For Cabin Indo Game", script = 'https://raw.githubusercontent.com/xxCary-UC/HotRoblox/refs/heads/main/cabinindo.lua'},
        {name = "Indo Voice", desc = "For Indo Voice Game", script = 'https://raw.githubusercontent.com/xxCary-UC/HotRoblox/refs/heads/main/indovoice.lua'},
        {name = "War machines", desc = "For War machines Game", script = 'https://rawscripts.net/raw/War-Machines-ProBaconHub-15461'},
        {name = "Build a Boat For Treasure", desc = "For Build a Boat For Treasure Game", script = 'https://rawscripts.net/raw/Build-A-Boat-For-Treasure-Ultimte-B3BFT-Script-28601'},
        {name = "Forsaken  ðŸ”‘", desc = "For Forsaken Game (Key=goaHuB41)", script = 'https://raw.githubusercontent.com/Nevcit/GOA_HUB/refs/heads/main/Forsaken'},
        {name = "Hatch a Duck", desc = "For Hatch a Duck Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/HatchaDuck'},
        {name = "Climb and Jump", desc = "For Climb And Jump Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/ClimbandJump'},
        {name = "Untitled Drill", desc = "For untitled drill Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/untitleddrill'},
        {name = "Noob Defense", desc = "For Noob Defense Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/NoobDefense'},
        {name = "Anime Rangers X", desc = "For Anime Rangers X Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/AnimeRangersX'},
        {name = "Attack On Titan", desc = "For Attack On Titan Game", script = 'https://api.luarmor.net/files/v3/loaders/705e7fe7aa288f0fe86900cedb1119b1.lua'},
        {name = "Beaks", desc = "For Beaks Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/Beaks'},
        {name = "Brainrot Evolution", desc = "For Brainrot Evolution Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/BrainrotEvolution'},
        {name = "Ultimate Mining Tycoon", desc = "For Ultimate Mining Tycoon Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/UltimateMining'},
        {name = "Prison Pump", desc = "For Prison Pump Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/PrisonPump'},
        {name = "Super Villain Tycoon", desc = "For Super Villain Tycoon Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/SuperVillainTycoon'},
        {name = "Bubble Gum Simulator", desc = "For Bubble Gum Simulator Game", script = 'https://raw.githubusercontent.com/MateoDev2024/MoonX/main/Loader.lua'},
        {name = "Shark Bite2", desc = "For SharkBite2 Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/SharkBite2'},
        {name = "Hunters", desc = "For Hunters Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/Hunters'},
        {name = "Dead Ocean", desc = "For Dead Ocean Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/DeadOcean'},
        {name = "Dig The Backyard", desc = "For Dig The Backyard Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/DigtheBackyard'},
        {name = "Minds Fall Survival", desc = "For Minds Fall Survival Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/MindsFall'},
        {name = "Train to Fight", desc = "For Train to Fight Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/TraintoFight'},
        {name = "Rock Fruit", desc = "For Rock Fruit Game", script = 'https://raw.githubusercontent.com/romoneand/RockFruit/main/NewMain'},
        {name = "Weapon Fighting", desc = "For WeaponFighting Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/WeaponFighting'},
        {name = "Sprunbie Rail", desc = "For Sprunbie Rail Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/SprunbieRail'},
        {name = "Sonic Speed", desc = "For Sonic Speed Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/SonicSpeed'},
        {name = "Speed Maze", desc = "For Speed Maze Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/SpeedMaze'},
        {name = "Prison Life", desc = "For Prison Life Game", script = 'https://rawscripts.net/raw/Prison-Life-Ware-v1-3-14889'},
        {name = "Grow a Tree", desc = "For Grow a Tree Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/GrowaTree'},
        {name = "Yard Sale", desc = "For Yard Sale Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/YardSale'},
        {name = "Breeding Ranch", desc = "For Breeding Ranch Game", script = 'https://raw.githubusercontent.com/gumanba/Scripts/main/Breedingranch'},
        {name = "PLS DONATE", desc = "For PLS DONATE Game", script = 'https://raw.githubusercontent.com/Vax3478/Vax/refs/heads/main/PLSDONATESCRIPT-DASH'},
        {name = "Trollge Multiverse", desc = "For Trollge Multiverse Game", script = 'https://rawscripts.net/raw/Update-Trollge-Multiverse-auto-farm-32870'},
    }
    
    -- Add all scripts to UI
    for _, scriptInfo in ipairs(scripts) do
        createScriptButton(scriptInfo.name, scriptInfo.desc, scriptInfo.script)
    end
    
    -- Create favorites if exists in memory
    for _, favorite in ipairs(favoritedScripts) do
        createScriptButton(favorite.name, favorite.desc, favorite.script, favoritesScroll)
    end
    
    -- Terapkan filter kategori saat pertama kali
    applyScriptFilters()
end

-- Run the executor
showLoadingBar(showExecutor)
